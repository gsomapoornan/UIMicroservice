<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Visualpath Products</title>



</head>

<body>
<h1><img src="images/visualpath.png"/> &nbsp; E-Commerce</h1>

<h3>
<ul></ul>
</h3>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">

jQuery.noConflict()(function ($) { 
$(document).ready(function(){
	 
	
	
   $.getJSON("http://localhost:9094/products",function(data){
	   
	   $.each(data, function(){
		  	         $("ul").append("<li>Id: "+this['id']+"</li><li>Name: "+this['name']+"</li> <li>Price :$"+this['price']+
	        		 "</li><button onclick=\"add"+this['name']+"()\">addTocart</button><br/>");
	   });
});
});
});
function addLaptop(){
	jQuery.noConflict()(function ($) {
	$.post("http://localhost:9092/createOrder?userId=100&productId=10",function(){
	alert("Added Laptop to your cart ");
	});
	});
	
}
function addMobile(){
	jQuery.noConflict()(function ($) {
		$.post("http://localhost:9092/createOrder?userId=100&productId=20",function(){
		alert("Added Mobile to your cart ");
		});
		});
	
}
function addWatch(){
	jQuery.noConflict()(function ($) {
		$.post("http://localhost:9092/createOrder?userId=100&productId=30",function(){
		alert("Added Watch to your cart ");
		});
		});
	
}
</script>

<div class="col-xs-12">
<h4>Feched prod details using Feign & Thymeleaf</h4>
    <table id="prod" class="table table-hover table-bordered table-striped table-condensed">
        <thead>
        <tr>
            <th>Id</th>
            <th>Name</th>
            <th>Price</th>
                    </tr>
        </thead>
        <tbody>
        <tr th:each="prod : ${prodList}">
            <td th:text="${prod.id}"></td>
            <td th:text="${prod.name}"></td>
            <td th:text="${prod.price}"></td>
           <td><button>addtocart</button></td>
        </tr>
        </tbody>
    </table>
</div> 
</body>
</html>